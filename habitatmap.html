
<!DOCTYPE html>
<html>
<head>

   <title>Habitat Map</title>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
   <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
   
  <style type="text/css">
    body {
       margin: 0;
       padding: 0;
    }
    html, body, #map{
       width: 100%;
       height: 100%;
    }
	#map {
    background: black;
	}
	.latlon {
        font-size: 11px;
		color: #333333;
        font-family: "Open Sans", Helvetica, sans-serif;
		padding-right: 10px;
		padding-left: 10px;
        background-color: rgba(230,230,230,0.8) ;
        box-shadow: 0 0 2px rgba(0,0,0,0.2);
    }
	.legend {
        width: 250px;
        font-size: 16px;
		line-height: 28px;
		color: #ffffff;
        font-family: "Open Sans", Helvetica, sans-serif;
        padding: 10px 14px;
        background-color: rgba(40,54,117,0.8) ;
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        border-radius: 5px;
        border: 1px solid grey;
    }
	.legend box {
		width: 18px;
		height: 18px;
		float: left;
		margin-right: 8px;
		opacity: 1;
		border: 1px solid white;
	}
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    	var southWest = L.latLng(22.05, 113.75),
			northEast = L.latLng(22.65, 114.55),
			bounds = L.latLngBounds(southWest, northEast);
				
		var map = L.map('map', {
			maxBounds: bounds,
			minZoom: 12,
			maxZoom: 16
		});
		
		map.setView(L.latLng(22.391885, 114.153873), 12);
		
		var RevisedMap = L.tileLayer('WorldView_Tile/{z}/{x}/{y}.png', {
			minZoom: 12,
			maxZoom: 16,
			tms: false,
			attribution: 'DigitalGlobe | Copernicus Data (2019) | Tiles generated by QGIS TilesXYZ'
		}).addTo(map);
		
		var RevisedMap = L.tileLayer('RevisedMap_Tile/{z}/{x}/{y}.png', {
			minZoom: 12,
			maxZoom: 16,
			tms: false
		}).addTo(map);
	
		var overlayMaps = {
			"Habitat Map": RevisedMap
		};
	
		L.control.layers(null, overlayMaps, {collapsed:false}).addTo(map);
	
	    var latlon = L.control({position: "bottomright"});
		latlon.onAdd = function() {
			// Create Div Element and Populate it with HTML
			var div = L.DomUtil.create("div", "latlon");
			map.addEventListener("mousemove", function(e) {
				div.innerHTML = e.latlng.lat.toFixed(5) + ", " + e.latlng.lng.toFixed(5);
            });
			// Return the Legend div containing the HTML content
			return div;
		};
		// Add Legend to Map
		latlon.addTo(map);
		    	
		L.control.scale({position: "bottomright"}).addTo(map);
		
		// Create Leaflet Control Object for Legend
		var legend = L.control({position: "bottomleft"});
		
		var class_colour = ['#267300', '#55FF00', '#FFFF00', '#007D7D', '#FFAA00', 
						'#E60000', '#FF7F7F', '#FF73DF', '#A900E6', '#E0E0E0', 
						'#73DFFF', '#0070FF', '#00A9E6', '#CA7AF5', '#004DA8',
						'#737300', '#A5F57A', '#9C9C9C', '#38A800', '#D1FF73', '#FFEBAF'];
						
		var class_name = ['Woodland', 'Shrubland', 'Grassland', 'Rural plantation', 'Marsh/ reed bed', 
						'Mangrove', 'Seagrass bed', 'Soft shore', 'Natural rocky shoreline', 'Bare rock/ soil', 
						'Natural watercourse', 'Modified watercourse', 'Reservoirs', 
						'Artificial hard shoreline', 'Artificial pond', 'Agricultural land', 'Green urban area', 
						'Other urban area', 'Woody shrubland', 'Shrubby grassland', 'Mixed barren land']

		// Function that runs when legend is added to map
		legend.onAdd = function() {

			// Create Div Element and Populate it with HTML
			var div = L.DomUtil.create("div", "legend");
			div.innerHTML = '<p><h2><b>Habitat Map</b></h2></p><hr>'
			for (var i = 0; i < class_colour.length; i++) {
				div.innerHTML +=
				'<box style="background:' + class_colour[i] + '"></box> ' +
				class_name[i] + '<br>';
			}
			div.innerHTML += '<hr><i>Created by CUHK, May 2021</i>'
	
			// Return the Legend div containing the HTML content
			return div;

		};
		
		// Add Legend to Map
		legend.addTo(map);
	
  </script>
</body>
</html>
